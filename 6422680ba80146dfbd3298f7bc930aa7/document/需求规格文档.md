# 影院管理系统需求规格说明文档

## 变更记录

| 变更时间  | 变更发起者 | 变更内容                                         |
| --------- | ---------- | ------------------------------------------------ |
| 2019.5    | 小组       | 完成第一阶段的需求规格说明文档                   |
| 2019.6.17 | 黄恺晟     | 初步完成第三阶段的需求规格说明文档               |
| 2019.6.18 | 黄恺晟     | 对照代码，修改了一些错误，新增了一些说明         |
| 2019.6.20 | 黄恺晟     | 对照用例，完善功能性以及非功能性需求中不足的部分 |
| 2019.6.20 | 黄恺晟     | 更改对员工的用户特征的描述                       |



## 目录

[TOC]

## 1. 引言

### 1.1 目的

本文档描述了影院系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

除特殊说明外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

影院管理系统是为×××影院开发的业务系统，开发的目标是帮助该影院处理日常业务，包括电影介绍、电影票销售、会员发展、活动管理、数据分析等。

通过影院管理系统的应用，期望为×××影院提高员工工作效率、降低运营成本、根据数据分析调整电影排片、吸引回头客并提高满意度、提高销售额和利润。

### 1.3 参考文献

1. IEEE标准。
2. 影院管理系统用例文档。
3. 软件工程与计算（卷二）:软件开发的技术基础

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

CINEMA影院是一家独立的小型影院。随着影院规模扩大，日均观影者人数激增，会员数量大量增加，手工作业效率过低，对会员管理效率极低，会员购票排队现象严重，导致大量会员流失。其次是放映厅数量增加，影院手工排片不合理，导致部分电影上座率过低，部分电影排片过少，导致单场人数过多，降低用户满意度。再次是影院面临的竞争比以前更大，希望在降低人力成本、吸引观众、增强竞争力的同时，保持甚至提升盈利水平。

影院管理系统就是为了满足CINEMA影院新的业务要求而开发的，它包含一个数据集中服务器和一组web页面。数据集中服务器将所有数据存储起来进行维护。用户通过浏览器访问网页完成日常任务，浏览器与数据集中服务器采用HTTP通信的方式完成数据交换。

#### 2.1.2 业务需求

BR1：在系统使用6个月后，上座率过低(低于5%)或过高(95%以上)的现象要减少50%。

BR2：在系统使用3个月后，收银人员工作效率提高50%

BR3：在系统使用6个月后，运营成本要降低15%

- 范围：人力成本
- 度量：检查平均员工数量

BR4：在系统使用6个月后，销售额度要提高15%

- 最好情况：30%
- 最可能情况：15%
- 最坏情况：10%

### 2.2 项目功能

SF1：分析电影口碑，调整影院排片。

SF2：制定促销手段，提高冷门电影上座率。

SF3：掌握员工变动和授权情况。

SF4：发展会员，提高观众回头率。

SF5：赠送吸引会员的优惠券，提高会员满意度。

SF6：根据市场变化调整上架电影。

SF7：制定促销手段进行销售竞争。

SF8：搜索电影查看详情，设置“想看”。

### 2.3 用户特征

用户将分为两类，一类为影院工作人员，另一类为影院顾客

|         工作人员         | 说明                                                         |
| :------------------: | :----------------------------------------------------------- |
|      **管理员**      | 整个系统有若干个系统管理员，他们的工作是每月几次处理员工雇佣、离职与职位变更。系统管理员是计算机专业维护人员，计算机技能很好。 |
|      **普通员工**      |影院有若干员工，他们通常每月调整一次主打影片，包括上架新上映的电影，下架上座率过低的电影，更改已上映电影的电影详情。同时调整部分影片票价。每个月都会有几个影视公司针对自己的影片提出特定的销售需求，如降价或与院线一同实行促销策略。对每周平均上座率过低的电影，他们要决定是设计促销策略还是降低电影排片。在每年的观影旺季，他们要制定促销策略，与其他影院竞争。 |

|         顾客         | 说明                                                         |
| :------------------: | :----------------------------------------------------------- |
| **普通观众** | 该系统有若干名观众使用者，每个观众都有一个独特的标识，观众可以办理会员。每个观众都可以按片名、影院、导演、日期搜索电影。并查看电影详情。设置电影为“想看”。同时还要满足网上购票功能。 |
| **会员** | 会员除了享受顾客的所有功能外，还能另外获赠优惠券，并且在充值时享受满减。 |

### 2.4 约束

CON1：系统将运行在Windows 7或Win 10操作系统上的主流浏览器上。

CON2：系统使用Web界面。

CON3：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。 

### 2.5 假设与依赖

AE1：使用者能在UI的引导下找到自己所需的功能。

AE2：会员卡充值时的满赠自动选择所符合的最高一档。

AE3：因影院规模并不大，因此服务器所承受压力有限。

## 3. 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

-----

UI1 观影者：系统使用iView组件构建web页面，引导观影者注册，查看电影详情，选择是否“想看”、购买会员卡以及购买电影票等。

界面图示略

-----

UI2 员工：系统使用iView组件构建web页面，引导管理员管理上架电影，更改电影详情，进行排片，发布活动、查看影院相关数据以及管理员工（该界面仅开放给管理员）等。

界面图示略

#### 3.1.2 通信接口

C1：浏览器与服务器使用HTTP请求方式进行通信

### 3.2 功能需求

......（一、二阶段需求略）

#### 3.2.1 发布会员卡

##### 3.2.1.1 特性描述

影院管理员发布新的会员卡充值优惠策略

##### 3.2.1.2 刺激/响应序列

刺激：管理员点击会员管理页面的“新增策略”按钮

响应：网页弹出模态框提供输入框

刺激：管理员输入新的“满x送x”策略

响应：系统查找是否有重复的旧策略，如无则写入，如有则提示修改

##### 3.2.1.3 相关功能需求

vipManage.input 接收输入

vipManage.post 发送POST请求

VIPCardController.addDiscountStrategy Controller接受到添加新的策略请求

vipService.addVIPDiscountStrategy Service执行请求

vipCardMapper.insertDiscountStrategy 操作数据层

#### 3.2.2 修改会员卡优惠策略

##### 3.2.2.1 特性描述

影院管理员修改原有的会员卡充值优惠策略

##### 3.2.2.2 刺激/响应序列

刺激：管理员点击原有策略的“修改”按钮

响应：网页弹出模态框提供输入框

刺激：管理员输入新的“满x送x”策略

响应：系统查找是否有重复的旧策略，如无则写入，如有则提示修改

##### 3.2.2.3 相关功能需求

vipManage.input 接收输入

vipManage.post 发送POST请求

VIPCardController.updateDiscountStrategy Controller接受到修改策略的请求

vipService.updateVIPDiscountStrategy Service执行请求

vipCardMapper.updateDiscountStrategy 操作数据层

#### 3.2.3 新增退票策略

##### 3.2.3.1 特性描述

影院管理员发布新的退票策略

##### 3.2.3.2 刺激/响应序列

刺激：管理员点击会员管理页面的“新增策略”按钮

响应：网页弹出模态框提供输入框

刺激：管理员输入新的退票策略

响应：系统查找是否有重复的旧策略，如无则写入，如有则提示修改

##### 3.2.3.3 相关功能需求

refundManage.input 接收输入

refundManage.post 发送POST请求

ticketController.addRefundStrategy Controller接受到添加新的策略请求

ticketService.addRefundStrategy Service执行请求

ticketMapper.insertRefundStrategy 操作数据层

#### 3.2.4 修改会员卡优惠策略

##### 3.2.4.1 特性描述

影院管理员修改原有的会员卡充值优惠策略

##### 3.2.4.2 刺激/响应序列

刺激：管理员点击原有策略的“修改”按钮

响应：网页弹出模态框提供输入框

刺激：管理员输入新的退票策略

响应：系统查找是否有重复的旧策略，如无则写入，如有则提示修改

##### 3.2.4.3 相关功能需求

refundManage.input 接收输入

refundManage.post 发送POST请求

ticketController.updateRefundStrategy Controller接受到修改策略的请求

ticketService.updateRefundStrategy Service执行请求

ticketMapper.updateRefundStrategy 操作数据层

#### 3.2.5 影厅信息录入

##### 3.2.5.1 特性描述

管理员新增影厅信息

##### 3.2.5.2 刺激/响应序列

刺激：管理员点击新增影厅

响应：网页弹出模态框提供输入框

刺激：管理员输入新影厅信息并提交

响应：系统添加新影厅

##### 3.2.5.3 相关功能需求

cinemaManage.input 接收输入的影厅信息

cinemaManage.post 发送POST请求

hallController.addHall Controller接收到添加新影厅的请求

hallService.addOneHall Service执行求情

hallMapper.insertOneHall 操作数据层

#### 3.2.6 影厅信息修改

##### 3.2.6.1 特性描述

管理员修改影厅信息

##### 3.2.6.2 刺激/响应序列

刺激：管理员点击修改影厅信息

响应：网页弹出模态框提供输入框

刺激：管理员输入新影厅信息并提交

响应：系统修改影厅信息

##### 3.2.6.3 相关功能需求

cinemaManage.input 接收输入的影厅信息

cinemaManage.post 发送POST请求

hallController.changeHallInfo Controller接收到修改影厅信息的请求

hallService.changeHallInfo Service执行请求

hallMapper.updateHallInfo 操作数据层

#### 3.2.7 影院员工的增删改查

##### 3.2.7.1 特性描述

管理员对影院员工账号进行管理

(下面是增，删改查同理，故略)

##### 3.2.7.2 刺激/响应序列

刺激：管理员点击新增员工按钮

响应：网页弹出模态框提供输入框

刺激：管理员输入新员工账号信息并提交

响应：系统添加新员工账号

##### 3.2.7.3 相关功能需求

staffManage.input 接收输入的员工信息

staffManage.post 发送POST请求

userController.addStaff Controller接受到新增员工账号的请求

userService.addStaff Service执行请求

userMapper.addStaff 操作数据层

#### 3.2.8 用户退票

##### 3.2.8.1 特性描述

用户对购买的票进行退票处理

##### 3.2.8.2 刺激/响应序列

刺激：用户点击退票按钮

响应：网页跳出二次确认提示框

刺激：用户确认退票

响应：系统进行退票处理

##### 3.2.8.3 相关功能需求

tickets.modal 二次确认模态框

tickets.post 发送POST请求

ticketController.refundTicket Controller接收到退票请求

ticketService.refundTicket Service执行请求

ticketmapper.deleteTicket 操作数据层

#### 3.2.9 查看历史订单

##### 3.2.9.1 特性描述

用户查看自己的历史消费记录

##### 3.2.9.2 刺激/响应序列

刺激：用户点击我的订单按钮

响应：网页展示历史订单

##### 3.2.9.3 相关功能需求

orders.get 发送GET请求

orderController.getAllOrders Controller接收到查看订单请求

orderService.getAllOrders Service执行请求

orderMapper.getAllOrders 在数据层查找数据

#### 3.2.10 赠送优惠券

##### 3.2.10.1 特性描述

管理员选择消费满一定额度的会员进行赠送优惠券操作

##### 3.2.10.2 刺激/响应序列

刺激：管理员输入最低消费额度

响应：网页展示所有消费满该额度的会员

刺激：管理员在该会员列表中进行选择，并选择优惠券，点击赠送

响应：系统向选中会员赠送相应优惠券

##### 3.2.10.3 相关功能需求

couponManage.get 发送GET请求，获得符合要求的VIPList和CouponList

couponManage.post 发送POST请求

VIPCardController.giveCoupon Controller接收到赠送优惠券请求

vipService.giveCoupon Service执行请求

couponService.issueCoupon Service执行请求

couponMapper.insertCouponUser 操作数据层，添加记录

### 3.3 非功能需求

#### 3.3.1 安全性

Safety1：系统应该只允许经过验证和授权的用户访问

Safety2：系统应该按照用户身份验证用户的访问权限

Safety3：系统中有一个最高权限的管理员账户

#### 3.3.2 易用性

Usability1：熟练的管理员要能在3min内完成一次业务操作

Usability2：普通顾客用户要能在10min内完成一次购票操作

#### 3.3.3 可靠性

Reliability1：在浏览器与服务器通信时，如果网络故障，系统不能出现故障

Reliability1.1：浏览器检测到网络故障，应能够刷新

#### 3.3.4 业务规则

BR1：适用的订单会赠送优惠券

BR2：会员适用充值满一定额度赠送一定额度的活动

BR3：距离电影开始前一定时间将不再能退票

BR4：使用优惠券或参加活动的票将不能退票

#### 3.3.5 约束

 IC1:系统要为管理人员和普通用户提供不同的界面

### 3.4 数据需求

#### 5.4.1 数据定义

 DR1:系统需要存储的数据实体及其关系

#### 5.4.2 默认数据

 默认数据用于以下两种情况：

 - 系统中新增数据时
 - 开始使用搜索功能时

 Default1：新增的订单默认为未完成状态

#### 5.4.3 数据格式要求

 Format1：无特别说明，输入时除金额和时间分别为数值和时间外，均为字符串。

#### 5.5 其他需求

 暂无